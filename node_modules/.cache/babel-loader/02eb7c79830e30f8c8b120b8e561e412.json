{"ast":null,"code":"var _jsxFileName = \"/Users/oleg/Desktop/DEV/react-shop/src/pages/Home.js\";\nimport React from 'react';\nimport { Categories, Sort, ProductBlock } from '../components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setProduct, fetchProduct } from '../redux/actions/product';\nimport { setCategory, setSortBy } from '../redux/actions/filter';\nimport { addProductToCart } from '../redux/actions/cart';\n\nfunction Home() {\n  const categoryNames = ['Professional', 'Standart', 'New', 'Home', 'Restaurant'];\n  const sortItems = [{\n    name: 'popularity',\n    type: 'popular',\n    order: 'desc'\n  }, {\n    name: 'price',\n    type: 'price',\n    order: 'desc'\n  }, {\n    name: 'alphabet',\n    type: 'name',\n    order: 'asc'\n  }];\n  const dispatch = useDispatch();\n  const items = useSelector(({\n    product\n  }) => product.items);\n  const cartItems = useSelector(({\n    cart\n  }) => cart.items); // const isLoaded = useSelector(({ pizzas }) => pizzas.isLoaded);\n\n  const {\n    category,\n    sortBy\n  } = useSelector(({\n    filter\n  }) => filter); // const onSelectSortType = React.useCallback((type) => {\n  //     dispatch(setSortBy(type));\n  // }, []);\n  // console.log(category);\n  // React.useEffect(() => {\n  //     axios.get('http://localhost:3001/pizzas').then(({ data }) => {\n  //         dispatch(setProduct(data))\n  //     });\n  // }, []);\n\n  React.useEffect(() => {\n    dispatch(fetchProduct(sortBy, category));\n  }, [category, sortBy]);\n  const onSelectCategory = React.useCallback(index => {\n    dispatch(setCategory(index));\n  }, []);\n  const onSelectSortType = React.useCallback(type => {\n    dispatch(setSortBy(type));\n  }, []); // const handleAddProductToCart = React.useCallback((obj) => {\n  //     dispatch(addProductToCart(obj));\n  // }, []);\n\n  const handleAddProductToCart = obj => {\n    dispatch({\n      type: 'ADD_PRODUCT_CART',\n      payload: obj\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content__top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Categories, {\n    onClickCategory: onSelectCategory,\n    items: categoryNames,\n    activeCategory: category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Sort, {\n    activeSortType: sortBy,\n    items: sortItems,\n    onClickSortType: onSelectSortType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"content__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"All products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, items.map(obj => /*#__PURE__*/React.createElement(ProductBlock, Object.assign({\n    itemsCount: cartItems[obj.id] && cartItems[obj.id].items.length,\n    onClickAddProduct: handleAddProductToCart,\n    key: obj.id\n  }, obj, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  })))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/oleg/Desktop/DEV/react-shop/src/pages/Home.js"],"names":["React","Categories","Sort","ProductBlock","useDispatch","useSelector","setProduct","fetchProduct","setCategory","setSortBy","addProductToCart","Home","categoryNames","sortItems","name","type","order","dispatch","items","product","cartItems","cart","category","sortBy","filter","useEffect","onSelectCategory","useCallback","index","onSelectSortType","handleAddProductToCart","obj","payload","map","id","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Categories, Sort, ProductBlock } from '../components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setProduct, fetchProduct } from '../redux/actions/product';\nimport { setCategory, setSortBy } from '../redux/actions/filter';\nimport { addProductToCart } from '../redux/actions/cart';\n\n\nfunction Home() {\n\n    const categoryNames = ['Professional', 'Standart', 'New', 'Home', 'Restaurant'];\n    const sortItems = [\n        { name: 'popularity', type: 'popular', order: 'desc' },\n        { name: 'price', type: 'price', order: 'desc' },\n        { name: 'alphabet', type: 'name', order: 'asc' },\n    ];\n\n    const dispatch = useDispatch();\n    const items = useSelector(({ product }) => product.items);\n    const cartItems = useSelector(({ cart }) => cart.items);\n    // const isLoaded = useSelector(({ pizzas }) => pizzas.isLoaded);\n    const { category, sortBy } = useSelector(({ filter }) => filter);\n\n    // const onSelectSortType = React.useCallback((type) => {\n    //     dispatch(setSortBy(type));\n    // }, []);\n    // console.log(category);\n\n\n\n    // React.useEffect(() => {\n    //     axios.get('http://localhost:3001/pizzas').then(({ data }) => {\n    //         dispatch(setProduct(data))\n    //     });\n    // }, []);\n\n    React.useEffect(() => {\n        dispatch(fetchProduct(sortBy, category));\n    }, [category, sortBy]);\n\n    const onSelectCategory = React.useCallback((index) => {\n        dispatch(setCategory(index));\n    }, []);\n\n    const onSelectSortType = React.useCallback((type) => {\n        dispatch(setSortBy(type));\n    }, []);\n\n    // const handleAddProductToCart = React.useCallback((obj) => {\n    //     dispatch(addProductToCart(obj));\n    // }, []);\n\n    const handleAddProductToCart = (obj) => {\n        dispatch({\n            type: 'ADD_PRODUCT_CART',\n            payload: obj,\n        });\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"content__top\">\n                <Categories\n                    onClickCategory={onSelectCategory}\n                    items={categoryNames}\n                    activeCategory={category}\n                />\n                <Sort activeSortType={sortBy} items={sortItems} onClickSortType={onSelectSortType} />\n            </div>\n            <h2 className=\"content__title\">All products</h2>\n            <div className=\"content__items\">\n                {items.map((obj) => (\n                    <ProductBlock\n                        itemsCount={cartItems[obj.id] && cartItems[obj.id].items.length}\n                        onClickAddProduct={handleAddProductToCart}\n                        key={obj.id} {...obj} />\n                ))}\n\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}